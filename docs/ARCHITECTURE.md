# ðŸ—ï¸ Architecture Freeda - Production AWS

## Vue d'Ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         INTERNET                                â”‚
â”‚                    (Users & Dashboard)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS (443)
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Route 53 (DNS)          â”‚
         â”‚   freeda.example.com         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   AWS Certificate Manager    â”‚
         â”‚      (SSL/TLS Cert)          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Application Load Balancer   â”‚
         â”‚  - Health checks: /health    â”‚
         â”‚  - Target Group: ECS Tasks   â”‚
         â”‚  - Port 80/443               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP (8000)
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      ECS Fargate Cluster     â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  Task 1  â”‚  â”‚  Task 2  â”‚  â”‚
         â”‚  â”‚ 0.5vCPU  â”‚  â”‚ 0.5vCPU  â”‚  â”‚
         â”‚  â”‚   1GB    â”‚  â”‚   1GB    â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚
         â”‚       â”‚              â”‚        â”‚
         â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚   Auto-Scaling Group    â”‚ â”‚
         â”‚  â”‚   Min: 2, Max: 10       â”‚ â”‚
         â”‚  â”‚   Target: 70% CPU       â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚                          â”‚
         â”‚               â”‚                          â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DynamoDB â”‚   â”‚CloudWatch â”‚          â”‚ Secrets Managerâ”‚
    â”‚          â”‚   â”‚           â”‚          â”‚                â”‚
    â”‚ Tickets  â”‚   â”‚ Logs      â”‚          â”‚ Mistral API Keyâ”‚
    â”‚ Table    â”‚   â”‚ Metrics   â”‚          â”‚                â”‚
    â”‚          â”‚   â”‚ Alarms    â”‚          â”‚                â”‚
    â”‚ GSI:     â”‚   â”‚           â”‚          â”‚                â”‚
    â”‚ - status â”‚   â”‚ Insights  â”‚          â”‚                â”‚
    â”‚ - channelâ”‚   â”‚           â”‚          â”‚                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Point-in-Time       â”‚
    â”‚  Recovery (Backup)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flux de RequÃªte

### 1. CrÃ©ation d'un Ticket

```
User (Dashboard)
    â”‚
    â”‚ POST /tickets
    â”‚ {"initial_message": "ProblÃ¨me internet"}
    â”‚
    â–¼
Route 53 (DNS)
    â”‚
    â–¼
ALB (Load Balancer)
    â”‚
    â”‚ Health Check: /health âœ“
    â”‚
    â–¼
ECS Task (Container)
    â”‚
    â”‚ 1. CrÃ©er ticket_id (UUID)
    â”‚ 2. Appeler Mistral AI (analytics)
    â”‚ 3. Sauvegarder dans DynamoDB
    â”‚ 4. Broadcast WebSocket
    â”‚
    â–¼
DynamoDB
    â”‚
    â”‚ PutItem
    â”‚ - ticket_id: "abc-123"
    â”‚ - status: "en cours"
    â”‚ - analytics: {...}
    â”‚
    â–¼
Response 201 Created
    â”‚
    â”‚ {"ticket_id": "abc-123", ...}
    â”‚
    â–¼
User (Dashboard)
```

### 2. Listing des Tickets

```
User (Dashboard)
    â”‚
    â”‚ GET /tickets?status=en cours
    â”‚
    â–¼
ALB â†’ ECS Task
    â”‚
    â”‚ Query DynamoDB avec GSI
    â”‚ Index: status-created_at-index
    â”‚
    â–¼
DynamoDB
    â”‚
    â”‚ Query (optimisÃ© avec GSI)
    â”‚ WHERE status = "en cours"
    â”‚ ORDER BY created_at DESC
    â”‚
    â–¼
Response 200 OK
    â”‚
    â”‚ [{"ticket_id": "...", ...}, ...]
    â”‚
    â–¼
User (Dashboard)
```

### 3. Export CSV

```
User (Dashboard)
    â”‚
    â”‚ GET /export/csv?status=fermÃ©
    â”‚
    â–¼
ALB â†’ ECS Task
    â”‚
    â”‚ 1. Query DynamoDB
    â”‚ 2. Calculer mÃ©triques
    â”‚ 3. GÃ©nÃ©rer CSV
    â”‚
    â–¼
DynamoDB
    â”‚
    â”‚ Scan/Query tickets
    â”‚
    â–¼
Response 200 OK
    â”‚
    â”‚ Content-Type: text/csv
    â”‚ ticket_id,status,sentiment,...
    â”‚
    â–¼
User (Dashboard)
    â”‚
    â”‚ TÃ©lÃ©chargement du fichier
    â”‚
    â–¼
Analyse dans Excel/BI Tool
```

---

## Composants AWS

### Compute
- **ECS Fargate** : Containers serverless
  - Pas de gestion de serveurs
  - Auto-scaling automatique
  - Pay-per-use

### Storage
- **DynamoDB** : Base de donnÃ©es NoSQL
  - On-demand billing
  - Auto-scaling
  - Point-in-time recovery
  - Global Secondary Indexes

### Networking
- **ALB** : Application Load Balancer
  - Health checks
  - SSL/TLS termination
  - Path-based routing

- **VPC** : Virtual Private Cloud
  - Security Groups
  - Subnets (Multi-AZ)
  - Internet Gateway

### Security
- **IAM** : Identity & Access Management
  - Task Execution Role
  - Task Role (DynamoDB access)
  - Least privilege principle

- **Secrets Manager** : Gestion des secrets
  - Mistral API Key
  - Rotation automatique (optionnel)

### Monitoring
- **CloudWatch** : Monitoring & Logging
  - Logs : `/ecs/freeda-production`
  - Metrics : CPU, Memory, Requests
  - Alarms : DynamoDB errors, ECS health

### Container Registry
- **ECR** : Elastic Container Registry
  - Stockage des images Docker
  - Scan de vulnÃ©rabilitÃ©s
  - Lifecycle policies

---

## SÃ©curitÃ© - Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: Network (VPC + Security Groups)  â”‚
â”‚  - Firewall rules                          â”‚
â”‚  - Private subnets                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Application (ALB + WAF)          â”‚
â”‚  - HTTPS only                              â”‚
â”‚  - Rate limiting                           â”‚
â”‚  - DDoS protection                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Container (Docker)               â”‚
â”‚  - Non-root user                           â”‚
â”‚  - Minimal base image                      â”‚
â”‚  - No secrets in image                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: IAM (Permissions)                â”‚
â”‚  - Task role (DynamoDB only)               â”‚
â”‚  - Execution role (ECR + Secrets)          â”‚
â”‚  - Least privilege                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 5: Data (Encryption)                â”‚
â”‚  - DynamoDB encryption at rest (KMS)       â”‚
â”‚  - Secrets Manager encryption              â”‚
â”‚  - TLS in transit                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ScalabilitÃ©

### Horizontal Scaling (ECS)
```
Traffic Faible          Traffic Moyen         Traffic Ã‰levÃ©
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Task 1  â”‚           â”‚  Task 1  â”‚          â”‚  Task 1  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚  Task 2  â”‚          â”‚  Task 2  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                             â”‚  Task 3  â”‚
                                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                             â”‚  Task 4  â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   2 Tasks                2 Tasks              4 Tasks
   (Min)                  (Normal)             (Peak)
```

### Auto-Scaling Triggers
- **CPU > 70%** â†’ Scale Out (+1 task)
- **CPU < 30%** â†’ Scale In (-1 task)
- **Min** : 2 tasks (HA)
- **Max** : 10 tasks (cost control)

---

## Monitoring Dashboard

### MÃ©triques ClÃ©s
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ECS Service                            â”‚
â”‚  - Running Tasks: 2/2                   â”‚
â”‚  - CPU Utilization: 45%                 â”‚
â”‚  - Memory Utilization: 60%              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ALB                                    â”‚
â”‚  - Healthy Targets: 2/2                 â”‚
â”‚  - Request Count: 1,234/min             â”‚
â”‚  - Response Time: 120ms (avg)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB                               â”‚
â”‚  - Read Capacity: Auto                  â”‚
â”‚  - Write Capacity: Auto                 â”‚
â”‚  - Item Count: 10,234                   â”‚
â”‚  - User Errors: 0                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudWatch Logs                        â”‚
â”‚  - Log Events: 5,678/min                â”‚
â”‚  - Errors: 0                            â”‚
â”‚  - Warnings: 2                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Disaster Recovery

### Backup Strategy
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB Point-in-Time Recovery        â”‚
â”‚  - Continuous backups (35 days)         â”‚
â”‚  - Restore to any point in time         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ECR Image Versioning                   â”‚
â”‚  - Tagged images: latest, v1, v2, ...   â”‚
â”‚  - Rollback capability                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudFormation Stacks                  â”‚
â”‚  - Infrastructure as Code               â”‚
â”‚  - Version controlled                   â”‚
â”‚  - Reproducible deployments             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-AZ Deployment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Availability Zone A                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  Task 1  â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Availability Zone B                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  Task 2  â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Si AZ-A tombe â†’ Traffic vers AZ-B
Si AZ-B tombe â†’ Traffic vers AZ-A
```

---

## CoÃ»ts DÃ©taillÃ©s (Mensuel)

### Breakdown par Service
```
ECS Fargate (2 Ã— 0.5vCPU, 1GB)
â”œâ”€ vCPU: $0.04048/hour Ã— 2 Ã— 730h = $59.10
â””â”€ Memory: $0.004445/GB/hour Ã— 2 Ã— 730h = $6.49
                                    Total: $65.59
                            Avec SPOT (-70%): $19.68

DynamoDB (On-Demand)
â”œâ”€ Write: 10,000 Ã— $1.25/million = $0.01
â”œâ”€ Read: 50,000 Ã— $0.25/million = $0.01
â””â”€ Storage: 1GB Ã— $0.25/GB = $0.25
                                    Total: $0.27

ALB
â”œâ”€ Load Balancer: $0.0225/hour Ã— 730h = $16.43
â””â”€ LCU: 10 Ã— $0.008/hour Ã— 730h = $58.40
                                    Total: $74.83
                    (OptimisÃ© avec NLB): $32.85

CloudWatch
â”œâ”€ Logs Ingestion: 5GB Ã— $0.50/GB = $2.50
â”œâ”€ Logs Storage: 5GB Ã— $0.03/GB = $0.15
â””â”€ Metrics: 10 custom Ã— $0.30 = $3.00
                                    Total: $5.65

ECR
â””â”€ Storage: 1GB Ã— $0.10/GB = $0.10

Secrets Manager
â””â”€ 1 secret Ã— $0.40/month = $0.40

Data Transfer
â””â”€ 10GB out Ã— $0.09/GB = $0.90

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TOTAL (Standard): $147.74/month
TOTAL (OptimisÃ©): $60.02/month
```

---

**Architecture Version** : 2.0.0  
**DerniÃ¨re Mise Ã  Jour** : 21 Janvier 2025  
**RÃ©gion** : eu-west-1 (Ireland)
